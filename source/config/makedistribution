#!/usr/local/bin/bash
#
#  $Id: makedistribution,v 1.3 2000/01/17 20:39:34 oliver Exp $
#

# create a dummy directory and extract the current CVS version of BALL
echo "extracting data from cvs..."
cd /tmp
rm -fr BALL-dist 2>/dev/null
mkdir BALL-dist 
cd BALL-dist
cvs co BALL >/dev/null 2>/dev/null
# remove CVS information
find . -name CVS -exec rm -fr {} \;
cd BALL/source
FILE="BALL-`grep BALL_RELEASE_STRING ../include/BALL/COMMON/version.h | awk '{print $3}'| tr -d \\"`.tar"
mv config/Makefile.dummy .
cd ../../

echo "creating archive ${FILE}..."
tar cf ${FILE} BALL

echo "compressing archive $FILE..."
gzip -9 $FILE
mv ${FILE}.gz ~
