# 
# $Id: common.mak.in,v 1.2 1999/08/26 11:00:18 oliver Exp $
#

include @BALL_PATH@/source@BINFMT_PATH@/config.mak

OBJECTS 	= $(CPP_SOURCES:.C=.o)

default:	echodir $(OBJECTS)

echodir:
	@echo "entering $(DIRECTORY)..."

default_clean:
	@-$(RM) -rf *~ @TEMPLATE_DIR@ core $(OBJECTS) $(EXECUTABLES) $(EXECUTABLE)


collectlib:	default
	@echo "collecting objects from $(DIRECTORY)..."
	@for i in $(OBJECTS); do echo $(DIRECTORY)/$$i >>@BALL_PATH@/source@BINFMT_PATH@/$(THISLIB).objects ; done


depend:
	@echo "creating dependencies for $(DIRECTORY)..."
	@echo "" > .Dependencies
	@@CXX_MAKEDEPEND@ @MAKEDEP_CXX_OPTS@ $(CPP_SOURCES) $(STD_CPP_INCLUDES) $(BALL_INCLUDES) @MAKEDEP_CXX_SUFFIX@
	@echo "include @BALL_PATH@/source@BINFMT_PATH@/$(DIRECTORY)/.Dependencies" >> @BALL_PATH@/source@BINFMT_PATH@/.Dependencies

include @BALL_PATH@/source/@BINFMT_PATH@/.Dependencies
