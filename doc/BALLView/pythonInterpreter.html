<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>BALLView Documentation: PythonInterpreter</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>
<body>
<center>
<table width="700" border="0" cellpadding="0">
  <tr>
    <td align="center">

<h2 align="center">
<a href="datasetControl.html"><img src="images/left.png" width="58" height="28" align="absmiddle"></a>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="index.html">Index</a> &nbsp;&nbsp;&nbsp;&nbsp;
<a href="displayProperties.html"><img src="images/right.png" width="58" height="28" border="0" align="absmiddle"></a> </h2>
<hr width=700>
		
<h2>PythonInterpreter</h2>

<a name="python_scripts"><h3>Write Python scripts for BALLView</h3></a>
<div align="justify">The easiest way to access objects in BALLView is to use the interface to the ModularWidgets. 
  Every major widget in BALLView, like the Scene or the MolecularControl is such a ModularWidget.
  To get the instance of a ModularWidget in a running BALLView session, call e.g.<br>
</div>
<pre>MainControl.getInstance(0)</pre>
<div align="justify">The MainControl manages almost all loaded objects, like Molecules or Representations. 
  The documentation of the BALL library gives detailled information on the syntax of this class.
  Examples for Python script for usage with BALLView can be found in the folder BALL/source/EXAMPLES/PYTHON.
  See also below for an other code example.<br>
	<br>
	Users can start scripts, which are stored as extern files, either by calling 'runScript("filename")'in the Python widget or by
	using the menu entry.
  <p>
  <b>Caveat:</b> Not all methods, which are defined in the C++ library are also exportet to the Python interface.
  If a method, which you want to use does not seem to work, have a  look at the *.sip files in
  BALL/source/PYTHON/EXTENSIONS to make sure, this method is exported.<br>
</div>
<br>

<a name="startup_script">
<h3>Setup a Python startup script</h3></a>
<div align="justify">BALLView loads a standard Python script, every time it is started. 
This script is located in BALL/data/startup.py and defines some shortcuts for obtaining
objectes and widgets at runtime.
Furthermore a user can load an additional Python script at startup. 
In this script the user can define variables and methods to further simplify usage of the Python interface. 
The location of the additional startup script is set in the Preferences:
</div>
<p><img src="images/startup_script1.png" width="631" height="375"> </p>
<div align = left>
An example for a startup script:<br>
<table>
<tr><td align=left>
<pre align=left>
def createStickModel():
  dp = DisplayProperties.getInstance(0)
  dp.setDrawingPrecision(DRAWING_PRECISION_HIGH)
  dp.selectMode(DRAWING_MODE_SOLID)
  dp.selectModel(MODEL_STICK)
  dp.selectColoringMethod(COLORING_ELEMENT)
  dp.setTransparency(0)
  dp.apply()

def removeWater():
  getMainControl().clearSelection()
  if getMolecularControlSelection().applySelector("residue(HOH)") == 0:
    return
  getMolecularControl().cut()
</pre>
</td></tr></table>
</div>

<h3>Python hotkeys</h3>
<p align="justify"><a name="create_hotkeys"></a>
  BALLView can bind any Python command to an hotkey for the F-keys.  
	By using the Shift-modifier, BALLView can have up to 24  different hotkeys additional to the standard 
	hotkeys for menu entries. This enables the user to 
  accelerate repetitive tasks dramatically.
	The standard startup Python Scripts defines many different shortcuts, which can be mapped to any F-key.
  Thereby a user can e.g. remove all water molecules in the loaded Systems with one keypress. 
	Of course, it is also possible to start methods defined in the user startup script or extern Python scripts with a hotkey:
	Just add an hotkey entry with <i>runScript("filename")</i>.
	</p>
<p><img src="images/hotkeys.png"></p>

<h2 align="center"><hr width=700>
<a href="datasetControl.html"><img src="images/left.png" width="58" height="28" align="absmiddle"></a>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="index.html">Index</a> &nbsp;&nbsp;&nbsp;&nbsp;
<a href="displayProperties.html"><img src="images/right.png" width="58" height="28" align="absmiddle"></a>
</h2>

</td></tr></table>

</body>
</html>
