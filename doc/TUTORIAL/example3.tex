\section{A simple AMBER calculation}

Having introduced the basic of handling proteins in the last
chapter, we now turn towards real-life examples: getting a protein
from the PDB and performing an AMBER calculation with it.
Again, we will be using BPTI. Instead of reading BPTI from a 
file, as in the last example, we will use the TCP transfer
capabilities of BALL to retrieve the file directly form the 
PDB (if your machine is connected to the internet -- you might
want to read it from a file as in the last example otherwise).
All classes handling file I/O in BALL are derived from a common
base class, \class{File}. This base class provides a lot of
functionality that applies to all derived classes as well.
On eof the most usefult features is on-the-fly file transformation.
Iin our case, we can open a file (e.g. a PDB file using the \class{PDBFile} 
class) that is not stored locally on a disc, but in the internet:

\begin{lstlisting}{}
	PDBFile infile("ftp://ftp.rcsb.org/pub/pdb/data/structures/all/pdb/4pti.brk");
	System S;
	infile >> S;
	infile.close();
\end{lstlisting}

\noindent
This command retrieves the file {\tt 4pti.brk} from its location at the RCSB
site using the FTP protocol and reads the contents of that file into a
\class{System}. The retrieval and the expansion of the URL into something
meaningful is performed by the classes \class{TransformationManager} and
\class{TCPTransfer}. The transformation manager also allows you to define 
external programs that can act as a filter for reading files. For example,
you might want to store compressed files (using GNU gzip) of the PDB
instead of the uncompressed files. This is easily achieved by the simple
method call 

\begin{lstlisting}{}
	File::registerTransformation(".*\.gz", "exec:/usr/local/bin/gunzip -c %s");
\end{lstlisting}

\noindent
